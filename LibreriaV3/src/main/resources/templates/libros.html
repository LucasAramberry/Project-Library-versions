<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Libreria - Libros</title>
    <head th:replace="/fragments/head :: head"></head>
</head>
<body>
    <nav th:replace="/fragments/navbar :: nav"></nav>

    <h1>Lista Libros</h1>

    <table class="table table-dark table-striped">
        <thead>
            <tr>
                <th scope="col">ISBN</th>
                <th scope="col">Titulo</th>
                <th scope="col">Descripcion</th>
                <th scope="col">Fecha publicacion</th>
                <th scope="col">Paginas</th>
                <th scope="col">Ejemplares</th>
                <th scope="col">Ejemplares prestados</th>
                <th scope="col">Ejemplares restantes</th>
                <th scope="col">Autor</th>
                <th scope="col">Editorial</th>
                <th scope="col">Acciones</th>
                <!--<th scope="col">Alta/Baja</th>-->
                <!--<th scope="col">Editar</th>-->
                <!--<th scope="col">Eliminar</th>-->
            </tr>
        </thead>
        <tbody>
            <tr th:each="libro : ${libros}">
                <td th:text="${libro.isbn}"></td>
                <td th:text="${libro.titulo}"></td>
                <td th:text="${libro.descripcion}"></td>
                <td th:text="${libro.fechaPublicacion}"></td>
                <td th:text="${libro.cantidadPaginas}"></td>
                <td th:text="${libro.ejemplares}"></td>
                <td th:text="${libro.ejemplaresPrestados}"></td>
                <td th:text="${libro.ejemplaresRestantes}"></td>
                <td th:text="${libro.autor.nombre}"></td>
                <td th:text="${libro.editorial.nombre}"></td>

                <td>
                    <a th:if="${libro.alta == false}" th:href="@{/libros/alta(id=__${libro.id}__)}">
                        <button type="button" class="btn btn-success btn-sm">Dar alta</button>
                    </a>
                    <a th:unless="${libro.alta == false}" th:href="@{/libros/baja(id=__${libro.id}__)}">
                        <button type="button" class="btn btn-danger btn-sm">Dar baja</button>
                    </a>
                </td>

                <td>
                    <a th:href="@{/libros/modificar-libro(id=__${libro.id}__)}">
                        <button type="button" class="btn btn-primary btn-sm">Modificar</button>
                    </a>
                </td>
                <td>
                    <a th:href="@{/libros/eliminar(id=__${libro.id}__)}">
                        <button type="button" class="btn btn-primary btn-sm">Eliminar</button>
                    </a>
                </td>
            </tr>
        </tbody>
    </table>

    <div class="d-grid gap-2 col-6 mx-auto">
        <a href="/libros/registro-libro" class="btn btn-warning" tabindex="-1" role="button">Agregar libro</a>
    </div>

    <footer th:replace="/fragments/footer :: footer"></footer>

    <script
        src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"
    ></script>
    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
        integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
        crossorigin="anonymous"
    ></script>
</body>
</html>