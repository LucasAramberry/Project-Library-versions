<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Modificar libro</title>
    <head th:replace="/fragments/head :: head"></head>
</head>

<body>
    <nav th:replace="/fragments/navbar :: nav"></nav>

    <a href="/libros/mostrar">
        <i class="fas fa-arrow-left"></i>
    </a>

    <h1 class="mb-3">Modificar libro</h1>

    <div class="d-flex justify-content-center">
        <div class="w-75 text-light d-flex justify-content-center">
            <div class="w-25 mb-3">
                
                <form th:action="@{/libros/actualizar-libro}" method="POST">

                    <p th:if="${error != null}" th:text="${error}" class="error"></p>

                    <input hidden th:value="${libro.id}" name="id">

                    <div class="mb-3">
                        <label for="isbn" class="col col-form-label">ISBN</label>
                        <div class="col-sm-10 w-100">
                            <input type="number" class="form-control" id="isbn" name="isbn" th:value="${libro.isbn}"/>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="titulo" class="col col-form-label">Titulo</label>
                        <div class="col-sm-10 w-100">
                            <input type="text" class="form-control" id="titulo" name="titulo" th:value="${libro.titulo}"/>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="fechaPublicacion" class="col col-form-label">Fecha publicacion</label>
                        <div class="col-sm-10 w-100">
                            <input type="date"  required min="1376-01-01" class="form-control" id="fechaPublicacion" name="fechaPublicacion" th:value="${libro.fechaPublicacion}"/>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="ejemplares" class="col col-form-label">Ejemplares</label>
                        <div class="col-sm-10 w-100">
                            <input type="number" class="form-control" id="ejemplares" name="ejemplares" th:value="${libro.ejemplares}"/>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="ejemplaresPrestados" class="col col-form-label">Ejem. prestados</label>
                        <div class="col-sm-10 w-100">
                            <input
                                type="number"
                                class="form-control"
                                id="ejemplaresPrestados"
                                name="ejemplaresPrestados"
                                th:value="${libro.ejemplaresPrestados}"
                                />
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="idAutor" class="col col-form-label">Autor</label>
                        <div class="col-sm-10 w-100">
                            <select class="form-control" id="idAutor"  name="idAutor">
                                <option th:each="autor : ${autores}" th:value="${autor.id}" th:text="${autor.nombre}" th:selected="${libro.autor != null && autor.id == libro.autor.id}"></option>
                            </select>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="idEditorial" class="col col-form-label">Editorial</label>
                        <div class="col-sm-10 w-100">
                            <select class="form-control" id="idEditorial"  name="idEditorial">
                            <option th:each="editorial : ${editoriales}" th:value="${editorial.id}" th:text="${editorial.nombre}" th:selected="${libro.editorial != null && editorial.id == libro.editorial.id}"></option>
                            </select>
                        </div>
                    </div>

                    <div class="d-grid gap-2 col-6 mx-auto boton-libro">
                        <button type="submit" class="btn btn-primary">Modificar</button>
                    </div>

                </form>

            </div>
        </div>
    </div>

    <footer th:replace="/fragments/footer :: footer"></footer>

    <script
        src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"
    ></script>
    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
        integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
        crossorigin="anonymous"
    ></script>
</body>
</html>
